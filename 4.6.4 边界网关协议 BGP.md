一、外部网关协议 EGP （例如边界网关协议 BGP）
```bash
	1.在不同自治系统（AS）内，度量路由的“代价”（距离、带宽、费用等）可能不同，因此，对于自治系统之间的路由选择，使用“代价”作为度量来寻找最佳路由是不行的
	2.自治路由之间的路由必须考虑到相关策略（政治、经济、安全等）
	3.BGP只能是力求寻找一条能够到达目的网络且比较好的路由（不能兜圈子），而并非要寻找一条最佳路由
```

二、在配置 BGP 时，每个自治系统的管理员要选择至少一个路由器作为该自治系统的“BGP发言人”

三、不同的自治系统的 BGP发言人 要交换路由信息，首先必须建立 TCP 连接 ，端口号为179
```bash
	1.在此TCP连接上交换 BGP 报文以建立BGP会话
	2.利用 BGP 会话交换路由信息（例如，增加新的路由，或撤销过时的路由，以及报告出错的情况等）
	3.使用TCP连接家换路由信息等两个 BGP 发言人，彼此称为对方的邻站(neighbor)或对等站(peer)
```

四、BGP发言人除了运行BGP外，还必须运行自己所在的自治系统所使用的内部网关协议IGP，例如OSPF或RIP

五、BFP发言人交换网络可达性的信息（要到达某个网络所要经过的一系列自治系统）

六、当BGP发言人互相交换了网络可达性的信息后，各BGP发言人就根据所采用的策略从收到的路由信息中找出到达各自自治系统的较好的路由。也就是构造出树形结构、不存在回路的自治系统连通图

七、BGP适用于多级结构的因特网

八、BGP-4 有以下四种报文：
```bash
	1. OPEN（打开）报文：
		用来与相邻的另一个BGP发言人建立关系，使通信初始化
		
	2. UPDATE（更新）报文：
		用来通告某一路由的信息，以及列出要撤销的多条路由 
		
	3. KEEPALIVE（保活）报文：
		用来周期性地证实邻站的连通性
		
	4. NOTIFICATION（通知）报文：
		用来发送检测到的差错
```


例题：

![截屏2024-11-16 01.17.07.png](pic/截屏2024-11-16%2001.17.07.png)


![截屏2024-11-16 01.17.25.png](pic/截屏2024-11-16%2001.17.25.png)